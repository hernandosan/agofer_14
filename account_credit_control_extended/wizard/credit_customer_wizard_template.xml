<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <report
            id="report_credit_customer_wizard"
            model="credit.customer.wizard"
            string="Credit Customer"
            name="account_credit_control_extended.template_credit_customer_wizard"
            report_type="qweb-pdf"/>

        <template id="template_credit_customer_wizard">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="account_credit_control_extended.template_credit_customer_wizard_document" t-lang="doc.partner_id.lang"/>
                </t>
            </t>
        </template>

        <template id="style_table">
            <link rel="stylesheet" type="text/css" href="/account_credit_control_extended/static/src/css/report_style.css"/>
        </template>

        <template id="template_credit_customer_wizard_document">
            <t t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)" />
            <t t-call="web.external_layout">
            <P t-call="account_credit_control_extended.style_table"></P>
                <div>
                    <h1 style="text-align:center;">Portfolio Customer</h1>
                    <br></br>
                    <table class="header">
                        <tr>
                            <th class="header" name="th_date">Date Print</th>
                            <td class="header" name="td_date"><span t-field="doc.payment_date"/></td>
                            <th class="header" name="th_partner">Customer</th>
                            <td class="header" name="td_partner"><span t-field="doc.partner_id.name"/></td>
                        </tr>
                        <tr>
                            <th class="header" name="th_partner_vat">NIT</th>
                            <td class="header" name="td_partner_vat"><span t-field="doc.partner_id.vat"/></td>
                            <th class="header" name="th_credit_limit">Credit Limit</th>
                            <td class="header" name="td_credit_limit"><span t-field="doc.partner_id.credit_limit"/></td>
                        </tr>
                        <tr>
                            <th class="header" name="th_payment_term">Payment Deadline</th>
                            <td class="header" name="td_payment_term"><span t-field="doc.partner_id.property_payment_term_id"/></td>
                            <th class="header" name="th_res_users">Salesman</th>
                            <td class="header" name="td_res_users"><span t-field="doc.partner_id.user_id"/></td>
                        </tr>
                    </table>
                </div>
                <br></br>
                <div>
                    <table class="report">
                        <thead>
                            <tr>
                                <th name="th_move_id">Invoice</th>
                                <th name="th_date">Date</th>
                                <th name="th_date_maturity">Date Maturity</th>
                                <th name="th_days_maturity">Days Maturity</th>
                                <th name="th_amount">Amount</th>
                                <th name="th_amount_taxed">Amount Residual</th>
                            </tr>
                        </thead>
                        <tbody >
                            <t t-foreach="doc.line_ids" t-as="line">
                                <tr>
                                    <td name="td_move_id"><span t-field="line.invoice_id"/></td>
                                    <td name="td_date"><span t-field="line.invoice_date"/></td>
                                    <td name="td_date_maturity"><span t-field="line.date_maturity"/></td>
                                    <td name="td_days_maturity"><span t-field="line.days_maturity"/></td>
                                    <td name="td_amount_total"><span t-field="line.amount"/></td>
<!--                                    <td name="td_amount_residual"><span t-field="=line.amount.residual"></span></td>-->
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
<!--                <br></br>-->
<!--                <div>-->
<!--                    <table style="margin-left: auto">-->
<!--                        <tr>-->
<!--                            <td name="td_section_subtotal" colspan="99">-->
<!--                                <strong>Subtotal</strong>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <span t-field="doc.amount_untaxed"/>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td name="td_section_taxed" colspan="99">-->
<!--                                <strong>Taxed</strong>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <span t-field="doc.amount_taxed"/>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td name="td_section_total" colspan="99">-->
<!--                                <strong>Total</strong>-->
<!--                            </td>-->
<!--                            <td>-->
<!--                                <span t-field="doc.amount_total"/>-->
<!--                            </td>-->
<!--                        </tr>-->
<!--                    </table>-->
<!--                </div>-->
<!--                <div>-->
<!--                    <table>-->
<!--                        <tr>-->

<!--                        </tr>-->

<!--                    </table>-->
<!--                </div>-->
            </t>
        </template>
    </data>
</odoo>