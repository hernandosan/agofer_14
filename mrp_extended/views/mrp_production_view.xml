<odoo>
    <data>
        <record id="view_mrp_production_form" model="ir.ui.view">
            <field name="name">view.mrp.production.form</field>
            <field name="model">mrp.production</field>
            <field name="inherit_id" ref="mrp.mrp_production_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@name='open_produce_product'][2]" position="after">
                    <button name="open_produce_product" 
                        attrs="{'invisible': ['|', '|', ('state', '=', 'to_close'), ('is_locked', '=', False), ('reservation_state', '!=', 'assigned')]}" 
                        string="Produce" type="object" class="oe_highlight"/>
                </xpath>
                <xpath expr="//notebook" position="inside">
                    <page string="Work Orders" attrs="{'invisible': [('workorder_ids', '=', [])]}">
                        <button name="action_compute_workorders" string="Compute Work Orders" type="object"/>
                        <field name="workorders_ids" nolabel="1">
                            <tree editable="bottom" delete="0" create="0">
                                <field name="name" readonly="1"/>
                                <field name="workcenter_id" widget="selection" readonly="1"/>
                                <field name="date_planned_start" invisible="1"/>
                                <field name="date_finished" invisible="1"/>
                                <field name="workcenter_costs_hour" readonly="1"/>
                                <field name="duration_expected" widget="float_time" readonly="1"/>
                                <field name="duration_real" widget="float_time" readonly="0"/>
                                <field name="state" invisible="1"/>
                                <field name="company_id" groups="base.group_multi_company"/>
                            </tree>
                        </field>
                    </page>
                </xpath>
            </field>
        </record>
    </data>
</odoo>